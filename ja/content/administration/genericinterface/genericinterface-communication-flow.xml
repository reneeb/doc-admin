<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">

    <section id="genericinterface_communication_flow">
        <title>ウェブサービス・コマンドライン・インタフェース</title>
        <para>
            一般インターフェイスは、供給者としてそして同様に要求者としてアクションを実施するために定義済フローをも待っています。
        </para>
        <para>
            これらのフローは以下に記述されます。
        </para>

        <section>
            <title>供給者としてのOTRS</title>
            <section>
                <title>
                    リモートリクエスト：
                </title>
                <orderedlist>
                    <listitem>
                        <para>
                            HTTPリクエスト
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    OTRSは、HTTPリクエストを受け取りそれをレイヤーに渡します。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    供給者モジュールはこれらのアクションを実行しコントロールすることを担当しています。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            ネットワーク・トランスポート
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    ネットワーク・トランスポート・モジュールは、データ・ペイロードをデコードし、オペレーション名とデータのそれ以外の部分とを区別します。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    オペレーション名およびオペレーションデータは供給者に返されます。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            <remark>データ外部</remark>
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    リモートシステムから送信されたデータ（これはモジュールベースのレイヤーではありません）。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            マッピング
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    データは、このオペレーション(入信する依頼データ用マッピング)のためのマッピング構成で指定されるように、外部システム・フォーマットからOTRS内部形式へ変換されます。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    既に変換されたデータは、供給者に返されます。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            <remark>データ内部</remark>
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    変換され、そしてオペレーション(これはモジュールベースのレイヤではありませんん)に渡される準備が整ったデータ。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            オペレーション
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    データを受取り、有効化します。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    ユーザ・アクセス・コントロールを行います。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    アクションを実行します。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </orderedlist>
            </section>
            <section>
                <title>
                    OTRSレスポンス:
                </title>
                <orderedlist>
                        <listitem>
                            <para>
                                オペレーション
                            </para>
                            <itemizedlist>
                                <listitem>
                                    <para>
                                        供給者に結果データを返します。
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                    <listitem>
                        <para>
                            <remark>データ内部</remark>
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    オペレーションから返されるデータ。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            マッピング
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    データは、マッピング構成(発信の応答データ用マッピング)で指定されるリモート・システム・フォーマットに変換されます。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    既に変換されたデータは、供給者に返されます。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            <remark>データ外部</remark>
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    返答としてネットワーク・トランスポートに渡されるために変換され、準備されるようなデータ。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            ネットワーク・トランスポート
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    既にリモート・システム・フォーマット済みのデータを受け取ります。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    このネットワーク・トランスポートタイプのための有効なレスポンスを構成します。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            HTTPレスポンス
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                    応答はウェブサービス・クライアントに返送されます。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    エラーの場合には、エラー・レスポンスが、遠隔のシステム(例えばSOAPエラー、HTTPエラーなど)に送られます。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </orderedlist>
            </section>
        </section>

        <section>
            <title>依頼者としてのOTRS</title>
                <section>
                    <title>OTRS依頼:</title>
                    <orderedlist>
                        <listitem>
                            <para>
                                イベント・トリガー・ハンドラ
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        ウェブサービス構成に基づいて、依頼が同期か非同期かを決定します。
                                    </para>
                                    <itemizedlist mark="round">
                                        <listitem>
                                            <para>
                                                同期
                                            </para>
                                            <itemizedlist mark="round">
                                                <listitem>
                                                    <para>
                                                        依頼者への直通電話は、新規依頼を作成し、それをレイヤーを通して渡すためにされます。
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </listitem>
                                        <listitem>
                                            <para>
                                                非同期
                                            </para>
                                            <itemizedlist mark="round">
                                                <listitem>
                                                    <para>
                                                        OTRSスケジューラのための新規一般インターフェース(依頼者)タスクを作成します。（スケジューラーに依頼の実行を委任することによって、ユーザー体験は非常に改善されるかもしれません。そうでなければ、常に依頼を準備する必要になってしまいます。またリモート実行はそれらの依頼のきっかけとなるOTRSエベントに追加されます。）
                                                    </para>
                                                </listitem>
                                                <listitem>
                                                    <para>
                                                        その次のサイクルでは、スケジューラ・プロセスは新規タスクを読んで、新規依頼を作成し、それをレイヤーへ渡す依頼者への呼び出しを作成します。
                                                    </para>
                                                </listitem>
                                            </itemizedlist>
                                        </listitem>
                                    </itemizedlist>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                依頼アクション(Invokers)
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        イベントからデータを受け取ります。
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        受信データ(もし必要ならば)を有効にします。
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        データを補足する(もし必要ならば)呼び出しコア・モジュール。
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        依頼データ構造を返すか、あるいは卒なく依頼を取り消すために依頼者にStop Communication信号を送ってください。
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                <remark>データ内部</remark>
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        依頼アクション(Invokers)(これはモジュールベースのレイヤではありません)から渡されるようなデータ。
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                マッピング
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        データは、マッピング構成(発信の応答データ用マッピング)で指定されるリモート・システム・フォーマットに変換されます。
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        既に変換されたデータは、依頼者に返されます。
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                <remark>データ外部</remark>
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        変換され、遠隔のシステムに送るために準備できたデータ。
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                ネットワーク・トランスポート
                            </para>
                                <itemizedlist mark="round">
                                    <listitem>
                                        <para>
                                            依頼者からリモート・システム表示形式に既に変換されたリモート・オペレーション・フォーマットおよびデータを受け取ります。
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            ネットワーク・トランスポートの有効な依頼を構成します。
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            遠隔のシステムにリクエストを送り、応答を待ちます。
                                        </para>
                                    </listitem>
                                </itemizedlist>
                        </listitem>
                    </orderedlist>
                </section>
                <section>
                    <title>リモート応答:</title>
                    <orderedlist>
                        <listitem>
                            <para>
                                ネットワーク・トランスポート
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        レスポンスを受け取り、データ・ペイロードをでコードします。
                                    </para>
                                </listitem>
                                <listitem>
                                    <para>
                                        依頼者にデータを返します。
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                        <listitem>
                            <para>
                                <remark>データ外部</remark>
                            </para>
                            <itemizedlist mark="round">
                                <listitem>
                                    <para>
                                        リモート・システムから受け取るデータ。
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </listitem>
                    <listitem>
                        <para>
                            マッピング
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    データは、このオペレーション(入信応答データ用マッピング)のためのマッピング構成の中で指定される外部システム・フォーマットからOTRS内部形式へと変換されます。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    既に変換されたデータは、依頼者に返されます。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            <remark>データ内部</remark>
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    既に変形済データは、依頼者に返されます。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            依頼アクション(Invokers)
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    返信データを受け取る
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    特に各依頼アクション(Invokers)(もしあればエラーハンドリングを含む)に必要とされていたデータを処理します。
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    依頼者に依頼アクション(Invokers)結果およびデータを返します。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para>
                            イベント・ハンドラあるいはスケジューラ
                        </para>
                        <itemizedlist mark="round">
                            <listitem>
                                <para>
                                    依頼者からのデータを受け取ります。スケジューラの場合、このデータは、タスクを直ぐにまたは将来に再スケジュールするような情報を含んでいるかもしれません。
                                </para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </orderedlist>
            </section>
        </section>
    </section>
